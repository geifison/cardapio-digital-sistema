/**
 * Mobile Enhancements CSS
 * Melhorias específicas para dispositivos móveis
 * Funciona em conjunto com os CSS existentes
 */

/* === MOBILE-FIRST IMPROVEMENTS === */

/* Melhorar touch targets */
@media (max-width: 768px) {
    button,
    .btn,
    .add-to-cart,
    .category-item,
    .flavor-option,
    .size-option {
        min-height: 44px !important;
        min-width: 44px !important;
        padding: var(--space-3) var(--space-4) !important;
    }
    
    /* Melhorar espaçamento em mobile */
    .container {
        padding: 0 var(--space-4) !important;
    }
    
    /* Melhorar header mobile */
    .header {
        padding: var(--space-3) 0 !important;
    }
    
    .logo h1 {
        font-size: var(--font-size-lg) !important;
    }
    
    /* Melhorar hero section */
    .hero {
        padding: var(--space-8) 0 !important;
    }
    
    .hero-content h2 {
        font-size: var(--font-size-3xl) !important;
        line-height: var(--line-height-tight) !important;
    }
    
    .hero-content p {
        font-size: var(--font-size-base) !important;
        margin-top: var(--space-4) !important;
    }
    
    /* Melhorar navegação de categorias */
    .categories-nav {
        padding: var(--space-3) 0 !important;
    }
    
    .categories-list {
        gap: var(--space-2) !important;
        padding: 0 var(--space-4) !important;
    }
    
    .category-item {
        padding: var(--space-2) var(--space-4) !important;
        font-size: var(--font-size-sm) !important;
        white-space: nowrap !important;
    }
    
    /* Melhorar grid de produtos */
    .products-grid {
        grid-template-columns: 1fr !important;
        gap: var(--space-4) !important;
        padding: var(--space-4) 0 !important;
    }
    
    .product-card {
        margin-bottom: 0 !important;
    }
    
    .product-info {
        padding: var(--space-4) !important;
    }
    
    .product-name {
        font-size: var(--font-size-lg) !important;
        line-height: var(--line-height-tight) !important;
    }
    
    .product-description {
        font-size: var(--font-size-sm) !important;
        line-height: var(--line-height-normal) !important;
        margin: var(--space-2) 0 var(--space-4) 0 !important;
    }
    
    .product-footer {
        align-items: center !important;
        gap: var(--space-3) !important;
    }
    
    .product-price {
        font-size: var(--font-size-xl) !important;
    }
    
    .add-to-cart {
        padding: var(--space-3) var(--space-6) !important;
        font-size: var(--font-size-sm) !important;
        border-radius: var(--border-radius-lg) !important;
    }
}

/* === CARRINHO MOBILE === */
@media (max-width: 768px) {
    .cart-sidebar {
        width: 100vw !important;
        right: -100vw !important;
        border-radius: 0 !important;
    }
    
    .cart-sidebar.open {
        right: 0 !important;
    }
    
    .cart-header {
        padding: var(--space-4) var(--space-6) !important;
        background: var(--color-primary) !important;
    }
    
    .cart-header h3 {
        font-size: var(--font-size-lg) !important;
    }
    
    .cart-content {
        padding: var(--space-4) !important;
    }
    
    .cart-item {
        padding: var(--space-4) !important;
        margin-bottom: var(--space-3) !important;
        border-radius: var(--border-radius-lg) !important;
        background: var(--color-white) !important;
        box-shadow: var(--shadow-sm) !important;
    }
    
    .cart-item-info {
        flex: 1 !important;
    }
    
    .cart-item-name {
        font-size: var(--font-size-base) !important;
        font-weight: var(--font-weight-semibold) !important;
        margin-bottom: var(--space-2) !important;
    }
    
    .cart-item-price {
        font-size: var(--font-size-lg) !important;
        color: var(--color-primary) !important;
        font-weight: var(--font-weight-bold) !important;
    }
    
    .quantity-controls {
        margin-top: var(--space-3) !important;
        gap: var(--space-3) !important;
    }
    
    .quantity-btn {
        width: 36px !important;
        height: 36px !important;
        font-size: var(--font-size-base) !important;
    }
    
    .quantity {
        font-size: var(--font-size-lg) !important;
        font-weight: var(--font-weight-semibold) !important;
        min-width: 40px !important;
    }
    
    .cart-footer {
        padding: var(--space-6) var(--space-4) !important;
        background: var(--color-gray-50) !important;
    }
    
    .cart-summary {
        margin-bottom: var(--space-6) !important;
    }
    
    .summary-row {
        margin-bottom: var(--space-3) !important;
        font-size: var(--font-size-base) !important;
    }
    
    .summary-row.total {
        font-size: var(--font-size-lg) !important;
        padding-top: var(--space-4) !important;
        margin-top: var(--space-4) !important;
    }
    
    .checkout-btn {
        padding: var(--space-4) !important;
        font-size: var(--font-size-lg) !important;
        border-radius: var(--border-radius-lg) !important;
    }
}

/* === PIZZA BUILDER MOBILE === */
@media (max-width: 768px) {
    .pizza-builder-modal {
        max-width: 100vw !important;
        max-height: 100vh !important;
        width: 100vw !important;
        height: 100vh !important;
        margin: 0 !important;
        border-radius: 0 !important;
    }
    
    .pizza-builder-content {
        height: 100vh !important;
        border-radius: 0 !important;
    }
    
    .pizza-builder-content .modal-header {
        padding: var(--space-4) var(--space-6) !important;
        border-radius: 0 !important;
    }
    
    .pizza-builder-content .modal-header h3 {
        font-size: var(--font-size-lg) !important;
    }
    
    .pizza-builder-content .modal-body {
        padding: var(--space-4) !important;
        overflow-y: auto !important;
    }
    
    /* Progress bar mobile */
    .pizza-progress {
        justify-content: space-between !important;
        margin-bottom: var(--space-6) !important;
        flex-wrap: nowrap !important;
        overflow-x: auto !important;
        padding: 0 var(--space-2) !important;
    }
    
    .progress-step {
        min-width: 80px !important;
        text-align: center !important;
    }
    
    .step-number {
        width: 30px !important;
        height: 30px !important;
        font-size: var(--font-size-sm) !important;
    }
    
    .step-label {
        font-size: var(--font-size-xs) !important;
        margin-top: var(--space-1) !important;
    }
    
    /* Step header mobile */
    .step-header {
        text-align: center !important;
        margin-bottom: var(--space-6) !important;
    }
    
    .step-header h4 {
        font-size: var(--font-size-xl) !important;
        margin-bottom: var(--space-2) !important;
    }
    
    .step-header p {
        font-size: var(--font-size-sm) !important;
        color: var(--color-gray-600) !important;
    }
    
    /* Sizes grid mobile */
    .sizes-grid {
        grid-template-columns: 1fr !important;
        gap: var(--space-4) !important;
    }
    
    .size-card,
    .size-option {
        padding: var(--space-6) !important;
        text-align: center !important;
    }
    
    .size-icon {
        font-size: 3rem !important;
        margin-bottom: var(--space-4) !important;
    }
    
    .size-name {
        font-size: var(--font-size-xl) !important;
        margin-bottom: var(--space-2) !important;
    }
    
    .size-info {
        font-size: var(--font-size-sm) !important;
        margin-bottom: var(--space-3) !important;
    }
    
    .size-description {
        font-size: var(--font-size-xs) !important;
    }
    
    /* Flavors container mobile */
    .flavors-container {
        grid-template-columns: 1fr !important;
        gap: var(--space-6) !important;
    }
    
    .pizza-visual {
        order: 2 !important;
        margin-top: var(--space-6) !important;
    }
    
    .pizza-circle {
        width: 200px !important;
        height: 200px !important;
        margin: 0 auto !important;
    }
    
    .pizza-info {
        margin-top: var(--space-4) !important;
    }
    
    .pizza-info h5 {
        font-size: var(--font-size-lg) !important;
    }
    
    .pizza-info p {
        font-size: var(--font-size-sm) !important;
    }
    
    .flavors-selection {
        order: 1 !important;
        padding: var(--space-4) !important;
    }
    
    .flavor-categories {
        margin-bottom: var(--space-4) !important;
        gap: var(--space-2) !important;
    }
    
    .category-btn {
        padding: var(--space-2) var(--space-4) !important;
        font-size: var(--font-size-sm) !important;
        border-radius: var(--border-radius-full) !important;
    }
    
    .flavors-grid {
        grid-template-columns: repeat(auto-fill, minmax(140px, 1fr)) !important;
        gap: var(--space-3) !important;
    }
    
    .flavor-card,
    .flavor-option {
        padding: var(--space-4) !important;
        text-align: center !important;
    }
    
    .flavor-name {
        font-size: var(--font-size-sm) !important;
        font-weight: var(--font-weight-semibold) !important;
        margin-bottom: var(--space-2) !important;
    }
    
    .flavor-description {
        font-size: var(--font-size-xs) !important;
        line-height: var(--line-height-normal) !important;
        margin-bottom: var(--space-2) !important;
    }
    
    .flavor-price {
        font-size: var(--font-size-sm) !important;
        font-weight: var(--font-weight-bold) !important;
    }
    
    /* Step actions mobile */
    .step-actions {
        flex-direction: column !important;
        gap: var(--space-4) !important;
        padding: var(--space-6) var(--space-4) !important;
        background: var(--color-gray-50) !important;
        margin: var(--space-6) calc(-1 * var(--space-4)) 0 !important;
    }
    
    .step-actions .btn {
        width: 100% !important;
        justify-content: center !important;
        padding: var(--space-4) !important;
        font-size: var(--font-size-base) !important;
        border-radius: var(--border-radius-lg) !important;
    }
}

/* === MODAL MELHORADO MOBILE === */
@media (max-width: 768px) {
    .modal-overlay {
        padding: 0 !important;
    }
    
    .modal {
        width: 100vw !important;
        height: 100vh !important;
        max-width: none !important;
        max-height: none !important;
        margin: 0 !important;
        border-radius: 0 !important;
    }
    
    .modal-header {
        padding: var(--space-4) var(--space-6) !important;
        border-radius: 0 !important;
    }
    
    .modal-content {
        padding: var(--space-6) var(--space-4) !important;
        height: calc(100vh - 140px) !important;
        overflow-y: auto !important;
    }
    
    .modal-footer {
        padding: var(--space-4) var(--space-6) !important;
        flex-direction: column !important;
        gap: var(--space-3) !important;
    }
    
    .modal-footer .btn {
        width: 100% !important;
        justify-content: center !important;
        padding: var(--space-4) !important;
        font-size: var(--font-size-base) !important;
    }
}

/* === ADMIN MOBILE === */
@media (max-width: 768px) {
    .admin-main {
        padding: var(--space-4) !important;
    }
    
    .orders-board {
        grid-template-columns: 1fr !important;
        gap: var(--space-4) !important;
    }
    
    .order-card {
        padding: var(--space-4) !important;
        margin-bottom: var(--space-3) !important;
    }
    
    .order-header {
        flex-direction: column !important;
        align-items: flex-start !important;
        gap: var(--space-2) !important;
    }
    
    .order-number {
        font-size: var(--font-size-lg) !important;
    }
    
    .order-time {
        font-size: var(--font-size-sm) !important;
    }
    
    .order-actions {
        margin-top: var(--space-3) !important;
        gap: var(--space-2) !important;
        width: 100% !important;
    }
    
    .action-btn {
        flex: 1 !important;
        padding: var(--space-2) var(--space-3) !important;
        font-size: var(--font-size-sm) !important;
    }
}

/* === TOUCH IMPROVEMENTS === */
@media (hover: none) and (pointer: coarse) {
    /* Melhorar interações touch */
    button,
    .btn,
    .add-to-cart,
    .category-item,
    .flavor-option,
    .size-option,
    .cart-toggle {
        -webkit-tap-highlight-color: rgba(255, 107, 53, 0.2) !important;
        -webkit-touch-callout: none !important;
        -webkit-user-select: none !important;
        user-select: none !important;
    }
    
    /* Remover hover effects em dispositivos touch */
    .product-card:hover,
    .order-card:hover,
    .btn:hover {
        transform: none !important;
        box-shadow: var(--shadow-base) !important;
    }
    
    /* Adicionar active states para feedback touch */
    button:active,
    .btn:active,
    .add-to-cart:active {
        transform: scale(0.98) !important;
        transition: transform 0.1s ease !important;
    }
    
    .product-card:active,
    .order-card:active {
        transform: scale(0.99) !important;
        transition: transform 0.1s ease !important;
    }
}

/* === LANDSCAPE MOBILE === */
@media (max-width: 768px) and (orientation: landscape) {
    .hero {
        padding: var(--space-6) 0 !important;
    }
    
    .hero-content h2 {
        font-size: var(--font-size-2xl) !important;
    }
    
    .pizza-builder-modal {
        height: 100vh !important;
    }
    
    .pizza-builder-content .modal-body {
        padding: var(--space-3) !important;
    }
    
    .step-header {
        margin-bottom: var(--space-4) !important;
    }
    
    .step-header h4 {
        font-size: var(--font-size-lg) !important;
    }
    
    .flavors-container {
        gap: var(--space-4) !important;
    }
    
    .pizza-circle {
        width: 150px !important;
        height: 150px !important;
    }
}
