<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üçï Monte Sua Pizza - Card√°pio Digital</title>
    <link rel="stylesheet" href="assets/css/pizza-builder.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <!-- Header -->
    <header class="pizza-header">
        <div class="container">
            <div class="header-content">
                <a href="index.html" class="back-button">
                    <i class="fas fa-arrow-left"></i>
                    Voltar ao Card√°pio
                </a>
                <h1>üçï Monte Sua Pizza</h1>
                <div class="pizza-progress">
                    <div class="progress-step active" data-step="1">
                        <span class="step-number">1</span>
                        <span class="step-label">Tamanho</span>
                    </div>
                    <div class="progress-step" data-step="2">
                        <span class="step-number">2</span>
                        <span class="step-label">Sabores</span>
                    </div>
                    <div class="progress-step" data-step="3">
                        <span class="step-number">3</span>
                        <span class="step-label">Observa√ß√µes</span>
                    </div>
                    <div class="progress-step" data-step="4">
                        <span class="step-number">4</span>
                        <span class="step-label">Adicionar</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="pizza-main">
        <div class="container">
            <!-- Step 1: Tamanho -->
            <div class="pizza-step active" id="step-1">
                <div class="step-header">
                    <h2>Escolha o Tamanho da Sua Pizza</h2>
                    <p>Clique no tamanho desejado</p>
                </div>
                
                <div class="sizes-grid" id="sizesGrid">
                    <!-- Tamanhos ser√£o carregados dinamicamente -->
                </div>
            </div>

            <!-- Step 2: Sabores -->
            <div class="pizza-step" id="step-2">
                <div class="step-header">
                    <h2>Escolha os Sabores</h2>
                    <p>Clique nos sabores desejados (m√°ximo <span id="maxFlavors">1</span>) - Voc√™ pode selecionar o mesmo sabor m√∫ltiplas vezes</p>
                </div>
                
                <div class="flavors-container">
                    <div class="pizza-visual">
                        <div class="pizza-circle" id="pizzaCircle">
                            <!-- C√≠rculo da pizza ser√° renderizado aqui -->
                        </div>
                        <div class="pizza-info">
                            <h3 id="selectedSizeName">Tamanho</h3>
                            <p id="selectedSizeInfo">Informa√ß√µes do tamanho</p>
                        </div>
                    </div>
                    
                    <div class="flavors-selection">
                        <div class="flavor-categories">
                            <button class="category-btn active" data-category="all">Todos</button>
                            <button class="category-btn" data-category="tradicional">Tradicionais</button>
                            <button class="category-btn" data-category="especial">Especiais</button>
                            <button class="category-btn" data-category="doce">Doces</button>
                        </div>
                        
                        <div class="flavors-grid" id="flavorsGrid">
                            <!-- Sabores ser√£o carregados dinamicamente -->
                        </div>
                        
                        <!-- Bot√£o para continuar manualmente -->
                        <div class="flavors-continue" id="flavorsContinue" style="display: none;">
                            <p class="continue-hint">
                                <i class="fas fa-info-circle"></i>
                                Voc√™ pode adicionar mais sabores ou continuar com a sele√ß√£o atual
                            </p>
                            <button class="btn btn-primary" onclick="continueFromFlavors()">
                                <i class="fas fa-arrow-right"></i> Continuar com Sabores Selecionados
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Step 3: Observa√ß√µes -->
            <div class="pizza-step" id="step-3">
                <div class="step-header">
                    <h2>Observa√ß√µes (Opcional)</h2>
                    <p>Adicione observa√ß√µes especiais para sua pizza</p>
                </div>
                
                <div class="observations-container">
                    <div class="pizza-summary-preview">
                        <div class="summary-visual">
                            <div class="pizza-preview" id="pizzaPreview">
                                <!-- Preview da pizza -->
                            </div>
                        </div>
                        
                        <div class="summary-details">
                            <div class="summary-item">
                                <h4>Tamanho</h4>
                                <p id="summarySize">-</p>
                            </div>
                            
                            <div class="summary-item">
                                <h4>Sabores</h4>
                                <p id="summaryFlavors">-</p>
                            </div>
                            
                            <div class="summary-price">
                                <h3>Pre√ßo Base</h3>
                                <p class="price" id="summaryPrice">R$ 0,00</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="observations-form">
                        <div class="form-group">
                            <label for="observations">Observa√ß√µes Especiais:</label>
                            <textarea id="observations" placeholder="Ex: Sem cebola, bem passada, borda crocante, etc..." rows="4"></textarea>
                        </div>
                        
                        <div class="form-group">
                            <label>Prefer√™ncias de Preparo:</label>
                            <div class="preferences-grid">
                                <label class="preference-item">
                                    <input type="checkbox" id="wellDone">
                                    <span>Bem passada</span>
                                </label>
                                <label class="preference-item">
                                    <input type="checkbox" id="extraCheese">
                                    <span>Queijo extra</span>
                                </label>
                                <label class="preference-item">
                                    <input type="checkbox" id="crispyBorder">
                                    <span>Borda crocante</span>
                                </label>
                                <label class="preference-item">
                                    <input type="checkbox" id="noOnion">
                                    <span>Sem cebola</span>
                                </label>
                            </div>
                        </div>
                        
                        <div class="auto-advance-notice">
                            <p><i class="fas fa-info-circle"></i> As observa√ß√µes s√£o opcionais. Voc√™ pode pular esta etapa.</p>
                            <button class="btn btn-skip" onclick="skipObservations()">
                                Pular Observa√ß√µes <i class="fas fa-arrow-right"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Step 4: Adicionar ao Carrinho -->
            <div class="pizza-step" id="step-4">
                <div class="step-header">
                    <h2>Confirme e Adicione ao Carrinho</h2>
                    <p>Revise os detalhes da sua pizza personalizada</p>
                </div>
                
                <div class="final-summary">
                    <div class="summary-visual">
                        <div class="pizza-preview-final" id="pizzaPreviewFinal">
                            <!-- Preview final da pizza -->
                        </div>
                    </div>
                    
                    <div class="summary-details-final">
                        <div class="summary-item">
                            <h4>Tamanho</h4>
                            <p id="finalSummarySize">-</p>
                        </div>
                        
                        <div class="summary-item">
                            <h4>Sabores</h4>
                            <p id="finalSummaryFlavors">-</p>
                        </div>
                        
                        <div class="summary-item" id="finalSummaryObservationsContainer" style="display: none;">
                            <h4>Observa√ß√µes</h4>
                            <p id="finalSummaryObservations">-</p>
                        </div>
                        
                        <div class="summary-item" id="finalSummaryPreferencesContainer" style="display: none;">
                            <h4>Prefer√™ncias</h4>
                            <p id="finalSummaryPreferences">-</p>
                        </div>
                        
                        <div class="summary-price-final">
                            <h3>Pre√ßo Total</h3>
                            <p class="price" id="finalSummaryPrice">R$ 0,00</p>
                        </div>
                    </div>
                </div>
                
                <div class="final-actions">
                    <button class="btn btn-secondary" onclick="restartPizzaBuilder()">
                        <i class="fas fa-redo"></i> Fazer Outra Pizza
                    </button>
                    <button class="btn btn-success" onclick="addToCart()" id="addToCartBtn">
                        <i class="fas fa-shopping-cart"></i> Adicionar ao Carrinho
                    </button>
                </div>
            </div>
        </div>
    </main>

    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-spinner">
            <i class="fas fa-pizza-slice fa-spin"></i>
            <p>Carregando...</p>
        </div>
    </div>

    <!-- Success Modal -->
    <div class="modal" id="successModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>üçï Pizza Adicionada!</h3>
            </div>
            <div class="modal-body">
                <p>Sua pizza foi adicionada ao carrinho com sucesso!</p>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeModal()">Continuar Comprando</button>
                <button class="btn btn-primary" onclick="goToCart()">Ver Carrinho</button>
            </div>
        </div>
    </div>

    <script src="assets/js/pizza-builder.js"></script>
</body>
</html>
